{% extends "base.html" %}

{% block title %}Login â€” ZECH.SH{% endblock %}

{% block nav_links %}
<a href="/about">// ABOUT</a>
<a href="/work">// WORK</a>
<a href="/community">// COMM</a>
<a href="/discord">// DISCORD</a>
{% endblock %}

{% block head %}
<style nonce="{{ csp_nonce() }}">
    .auth-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: calc(100vh - 200px);
        padding: 2rem 1rem;
    }

    .auth-panel {
        position: relative;
        width: 100%;
        max-width: 420px;
        background: var(--zech-surface);
        border: 1px solid var(--zech-dim);
        padding: 2.5rem 2rem 2rem;
    }

    .auth-panel::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--zech-primary), var(--zech-secondary));
    }

    .auth-label {
        font-family: 'Orbitron', sans-serif;
        font-size: 0.7rem;
        letter-spacing: 0.2em;
        color: var(--zech-text-dim);
        margin-bottom: 0.5rem;
    }

    .auth-title {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.5rem;
        font-weight: 700;
        letter-spacing: 0.08em;
        color: var(--zech-text);
        margin: 0 0 0.5rem;
    }

    .auth-subtitle {
        font-family: 'Rajdhani', sans-serif;
        font-size: 0.95rem;
        color: var(--zech-text-dim);
        letter-spacing: 0.04em;
        margin: 0 0 2rem;
    }

    .auth-providers {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .auth-provider-btn {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 0.85rem 1.25rem;
        background: var(--zech-bg);
        border: 1px solid var(--zech-dim);
        border-left: 3px solid var(--zech-dim);
        text-decoration: none;
        font-family: 'Rajdhani', sans-serif;
        font-size: 1rem;
        font-weight: 600;
        letter-spacing: 0.06em;
        color: var(--zech-text);
        transition: border-color 0.2s, box-shadow 0.2s, background 0.2s;
    }

    .auth-provider-btn:hover {
        background: rgba(0, 229, 255, 0.03);
        border-color: var(--zech-primary);
        box-shadow: 0 0 20px rgba(0, 229, 255, 0.08);
    }

    .auth-provider-btn svg {
        width: 20px;
        height: 20px;
        flex-shrink: 0;
    }

    /* Provider accent colors on left border */
    .auth-provider-google { border-left-color: #4285f4; }
    .auth-provider-google:hover { border-left-color: #4285f4; box-shadow: 0 0 20px rgba(66, 133, 244, 0.15); }
    .auth-provider-google svg { fill: #4285f4; }

    .auth-provider-github { border-left-color: #8b949e; }
    .auth-provider-github:hover { border-left-color: #8b949e; box-shadow: 0 0 20px rgba(139, 148, 158, 0.15); }
    .auth-provider-github svg { fill: #8b949e; }

    .auth-provider-microsoft { border-left-color: #00a4ef; }
    .auth-provider-microsoft:hover { border-left-color: #00a4ef; box-shadow: 0 0 20px rgba(0, 164, 239, 0.15); }
    .auth-provider-microsoft svg { fill: #00a4ef; }

    .auth-provider-discord { border-left-color: #5865f2; }
    .auth-provider-discord:hover { border-left-color: #5865f2; box-shadow: 0 0 20px rgba(88, 101, 242, 0.15); }
    .auth-provider-discord svg { fill: #5865f2; }

    .auth-provider-facebook { border-left-color: #1877f2; }
    .auth-provider-facebook:hover { border-left-color: #1877f2; box-shadow: 0 0 20px rgba(24, 119, 242, 0.15); }
    .auth-provider-facebook svg { fill: #1877f2; }

    .auth-provider-twitter { border-left-color: var(--zech-text); }
    .auth-provider-twitter:hover { border-left-color: var(--zech-text); box-shadow: 0 0 20px rgba(224, 234, 248, 0.1); }
    .auth-provider-twitter svg { fill: var(--zech-text); }

    .auth-no-providers {
        font-family: 'Rajdhani', sans-serif;
        color: var(--zech-text-dim);
        font-size: 0.95rem;
        text-align: center;
        padding: 1rem 0;
    }

    .auth-dev-separator {
        margin-top: 1.5rem;
        padding-top: 1.5rem;
        border-top: 1px solid var(--zech-dim);
    }

    .auth-dev-label {
        font-family: 'Orbitron', sans-serif;
        font-size: 0.65rem;
        letter-spacing: 0.15em;
        color: var(--zech-text-dim);
        text-align: center;
        margin-bottom: 0.75rem;
        opacity: 0.6;
    }

    .auth-provider-dummy { border-left-color: #6b7280; }
    .auth-provider-dummy:hover { border-left-color: #6b7280; box-shadow: 0 0 20px rgba(107, 114, 128, 0.15); }
    .auth-provider-dummy svg { fill: #6b7280; }
</style>
{% endblock %}

{% block content %}
<div class="auth-wrapper">
    <div class="auth-panel">
        <div class="auth-label">SYS.AUTH</div>
        <h1 class="auth-title">AUTHENTICATE</h1>
        <p class="auth-subtitle">Select a provider to establish connection.</p>

        <div class="auth-providers">
            {% for key, provider in providers.items() %}
            <a href="/auth/{{ key }}/login" class="auth-provider-btn auth-provider-{{ key }}">
                {% if key == 'google' %}
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                    <path d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"/>
                    <path d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"/>
                    <path d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"/>
                    <path d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"/>
                </svg>
                {% elif key == 'github' %}
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                {% elif key == 'microsoft' %}
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21">
                    <rect x="1" y="1" width="9" height="9" fill="#f25022"/>
                    <rect x="1" y="11" width="9" height="9" fill="#00a4ef"/>
                    <rect x="11" y="1" width="9" height="9" fill="#7fba00"/>
                    <rect x="11" y="11" width="9" height="9" fill="#ffb900"/>
                </svg>
                {% elif key == 'discord' %}
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                </svg>
                {% elif key == 'facebook' %}
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
                {% elif key == 'twitter' %}
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
                {% endif %}
                Continue with {{ provider.name }}
            </a>
            {% else %}
            <p class="auth-no-providers">No authentication providers configured. Contact the system administrator.</p>
            {% endfor %}
        </div>

        {% if has_dummy %}
        <div class="auth-dev-separator">
            <div class="auth-dev-label">DEV_MODE</div>
            <a href="/auth/dummy/login" class="auth-provider-btn auth-provider-dummy">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                </svg>
                Dummy Login (Dev)
            </a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
